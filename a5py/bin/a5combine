#!/usr/bin/env python

import sys
from a5py.ascot5io.tools import combine

mode = 0
if(sys.argv[1] == "-a"):
    mode = "add"
elif(sys.argv[1] == "-c"):
    mode = "continue"
else:
    print("Please provide a valid mode as a first argument:")
    print("-a : add")
    print("-c : continue")

if(mode != 0):
    print("Combining files\n")
    for fn in sys.argv[3:]:
        print(fn)
        
    print("\nwith " + sys.argv[2] +"\n")
        
    fnt = sys.argv[2]
    fns = sys.argv[3:]

    combine(fnt, fns, mode=mode)
